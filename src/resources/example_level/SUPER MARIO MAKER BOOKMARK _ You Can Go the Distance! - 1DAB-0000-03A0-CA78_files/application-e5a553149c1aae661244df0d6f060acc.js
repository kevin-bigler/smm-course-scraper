/*! Zepto v1.1.6 - zepto event ajax form ie - zeptojs.com/license */
/*!
 * Rails Behaviors
 * https://github.com/josh/rails-behaviors
 *
 * Copyright 2013, Joshua Peek
 * Released under the MIT License
 */
/*!
 * Turbolinks
 * https://github.com/rails/turbolinks
 *
 * Released under the MIT license
 * Copyright 2012-2014 David Heinemeier Hansson
 */
function ufoMove(t){var e={sin:[0,.125329557,.248682708,.368114215,.481740683,.587770261,.684530896,.770496706,.844312038,.90481285,.951045063,.982279611,.998023935,.998029753,.982296972,.951073694,.904852299,.844361683,.770555764,.684598436,.587845217,.481821875,.368200361,.24877245,.125421479,926536e-10,-.125237633,-.248592964,-.368028066,-.481659487,-.587695299,-.68446335,-.770437641,-.844262386,-.904773393,-.951016424,-.982262241,-.998018109,-.998035562,-.982314324,-.951102316,-.90489174,-.844411321,-.770614816,-.68466597,-.587920169,-.481903062,-.368286504,-.248862189,-.125513401],cos:[1,.992115166,.968585004,.929780579,.876313822,.809027886,.728983849,.637443979,.535851828,.425809472,.309052242,.18742136,.062834905,-.062742435,-.187330347,-.308964123,-.425725636,-.535773598,-.637372587,-.728920422,-.808973424,-.876269183,-.929746468,-.968561959,-.992103549,-.999999996,-.992126774,-.968608042,-.929814682,-.876358453,-.809082342,-.729047271,-.637515366,-.535930055,-.425893304,-.309140358,-.187512371,-.062927376,.062649963,.187239333,.308876001,.425641796,.535695362,.637301189,.728856988,.808918954,.876224537,.929712349,.968538905,.992091924]},n=$(t),r=[],o=100,i=100,a=79,s=48,u=e.sin.length,c=e.cos.length,l=3,h=parseInt(o/2),f=parseInt(i/2),d=980,p=0,m=function(t){var n=parseInt(t.image_frame%u);return 0===t.leftright?e.sin[n]*l:t.leftright*t.image_frame},v=function(t){var n=parseInt(t.image_frame%c);return 0===t.updown?e.cos[n]*l:t.updown*t.image_frame},g=function(){for(var t=r.length-1;t>=0;t--){var e=r[t];e.x=e.base_x+m(e),e.y=e.base_y+v(e),e.image_frame+=1,e.image_frame>500&&(e.y+s*e.scale*2<=0||e.y-s*e.scale*2>=i||e.x+a*e.scale*2<=0||e.x-a*e.scale*2>=o)&&(e.image.remove(),r.splice(t,1))}p++},y=function(){for(var t=0;t<r.length;t++){var e=r[t],n="translate("+e.x+"px,"+e.y+"px) scale("+e.scale+")";e.image.css("transform",n),e.image.css("-webkit-transform",n)}},b=function(){w(),g(),y()},w=function(){if(p%3e3===0&&0!==p){p=0;var t=parseInt(10*Math.random()%2),e=parseInt(10*Math.random()%2),u=-a,c=-s,l=Math.random()+.5,d=Math.random()+.5;1===parseInt(10*Math.random()%2)?(u=Math.random()*(o-a),0===t&&(c=i,l=-l),1==e?u>h&&(d=-d):d=0):(c=Math.random()*(i-s),0===t&&(u=o,d=-d),1==e?c>f&&(l=-l):l=0);var m=$(document.createElement("div"));m.attr("class","moving-ufo"),n.append(m),r.push({base_x:u,x:0,base_y:c,y:0,scale:1-Math.random()/3,image_frame:0,image:m,updown:l,leftright:d})}},x=function(){i=document.documentElement.clientHeight,o=document.documentElement.clientWidth,h=parseInt(o/2),f=parseInt(i/2),n.css("height",i+"px"),n.css("width",o+"px"),d>o&&k>=0&&(N(),j()),o>=d&&0>k&&!/\/policy$/.test(location.pathname)?C():d>o&&k>=0&&j()},k=-1,E=0,T=document.body,_=function(){return 0==E?void E++:($(document).off("page:change",_),$(window).off("resize",x),N(),k>=0&&j(),$(document).on("page:restore",S),void E++)},S=function(){T==document.body&&($(document).off("page:restore",S),$(window).on("resize",x),$(document).on("page:change",_),E=0,x())},C=function(){y(),k=setInterval(b,20)},j=function(){clearInterval(k),k=-1},N=function(){for(var t=r.length-1;t>=0;t--)r[t].image.remove();r=[]};S()}var Zepto=function(){function t(t){return null==t?String(t):X[J.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(e){return"object"==t(e)}function i(t){return o(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return j.call(t,function(t){return null!=t})}function u(t){return t.length>0?k.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in A?A[t]:A[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||P[c(t)]?e:e+"px"}function f(t){var e,n;return O[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),O[t]=n),O[t]}function d(t){return"children"in t?C.call(t.children):k.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function p(t,e,n){for(x in e)n&&(i(e[x])||Y(e[x]))?(i(e[x])&&!i(t[x])&&(t[x]={}),Y(e[x])&&!Y(t[x])&&(t[x]=[]),p(t[x],e[x],n)):e[x]!==w&&(t[x]=e[x])}function m(t,e){return null==e?k(t):k(t).filter(e)}function v(t,n,r,o){return e(n)?n.call(t,r,o):n}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className||"",r=n&&n.baseVal!==w;return e===w?r?n.baseVal:n:void(r?n.baseVal=e:t.className=e)}function b(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?k.parseJSON(t):t):t}catch(e){return t}}function $(t,e){e(t);for(var n=0,r=t.childNodes.length;r>n;n++)$(t.childNodes[n],e)}var w,x,k,E,T,_,S=[],C=S.slice,j=S.filter,N=window.document,O={},A={},P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,H=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,R=/^(?:body|html)$/i,M=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],q=["after","prepend","before","append"],F=N.createElement("table"),z=N.createElement("tr"),Z={tr:N.createElement("tbody"),tbody:F,thead:F,tfoot:F,td:z,th:z,"*":N.createElement("div")},V=/complete|loaded|interactive/,B=/^[\w-]*$/,X={},J=X.toString,U={},G=N.createElement("div"),W={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Y=Array.isArray||function(t){return t instanceof Array};return U.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,o=t.parentNode,i=!o;return i&&(o=G).appendChild(t),r=~U.qsa(o,e).indexOf(t),i&&G.removeChild(t),r},T=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},_=function(t){return j.call(t,function(e,n){return t.indexOf(e)==n})},U.fragment=function(t,e,n){var r,o,a;return H.test(t)&&(r=k(N.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(D,"<$1></$2>")),e===w&&(e=L.test(t)&&RegExp.$1),e in Z||(e="*"),a=Z[e],a.innerHTML=""+t,r=k.each(C.call(a.childNodes),function(){a.removeChild(this)})),i(n)&&(o=k(r),k.each(n,function(t,e){I.indexOf(t)>-1?o[t](e):o.attr(t,e)})),r},U.Z=function(t,e){return t=t||[],t.__proto__=k.fn,t.selector=e||"",t},U.isZ=function(t){return t instanceof U.Z},U.init=function(t,n){var r;if(!t)return U.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&L.test(t))r=U.fragment(t,RegExp.$1,n),t=null;else{if(n!==w)return k(n).find(t);r=U.qsa(N,t)}else{if(e(t))return k(N).ready(t);if(U.isZ(t))return t;if(Y(t))r=s(t);else if(o(t))r=[t],t=null;else if(L.test(t))r=U.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==w)return k(n).find(t);r=U.qsa(N,t)}}return U.Z(r,t)},k=function(t,e){return U.init(t,e)},k.extend=function(t){var e,n=C.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){p(t,n,e)}),t},U.qsa=function(t,e){var n,o="#"==e[0],i=!o&&"."==e[0],a=o||i?e.slice(1):e,s=B.test(a);return r(t)&&s&&o?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:C.call(s&&!o?i?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},k.contains=N.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},k.type=t,k.isFunction=e,k.isWindow=n,k.isArray=Y,k.isPlainObject=i,k.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},k.inArray=function(t,e,n){return S.indexOf.call(e,t,n)},k.camelCase=T,k.trim=function(t){return null==t?"":String.prototype.trim.call(t)},k.uuid=0,k.support={},k.expr={},k.map=function(t,e){var n,r,o,i=[];if(a(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return u(i)},k.each=function(t,e){var n,r;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},k.grep=function(t,e){return j.call(t,e)},window.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()}),k.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(t){return k(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return k(C.apply(this,arguments))},ready:function(t){return V.test(N.readyState)&&N.body?t(k):N.addEventListener("DOMContentLoaded",function(){t(k)},!1),this},get:function(t){return t===w?C.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return S.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):k(j.call(this,function(e){return U.matches(e,t)}))},add:function(t,e){return k(_(this.concat(k(t,e))))},is:function(t){return this.length>0&&U.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==w)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):a(t)&&e(t.item)?C.call(t):k(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return k(n)},has:function(t){return this.filter(function(){return o(t)?k.contains(this,t):k(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:k(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:k(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?k(t).filter(function(){var t=this;return S.some.call(n,function(e){return k.contains(e,t)})}):1==this.length?k(U.qsa(this[0],t)):this.map(function(){return U.qsa(this,t)}):k()},closest:function(t,e){var n=this[0],o=!1;for("object"==typeof t&&(o=k(t));n&&!(o?o.indexOf(n)>=0:U.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return k(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=k.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(_(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return j.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return k.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=k(t).get(0),o=r.parentNode||this.length>1;return this.each(function(e){k(this).wrapAll(n?t.call(this,e):o?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){k(this[0]).before(t=k(t));for(var e;(e=t.children()).length;)t=e.first();k(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=k(this),o=r.contents(),i=n?t.call(this,e):t;o.length?o.wrapAll(i):r.append(i)})},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=k(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return k(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return k(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;k(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(t))for(x in t)g(this,x,t[x]);else g(this,t,v(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:w},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){g(this,t)},this)})},prop:function(t,e){return t=W[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(M,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?b(r):w},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=k(this),r=v(this,t,e,n.offset()),o=n.offsetParent().offset(),i={top:r.top-o.top,left:r.left-o.left};"static"==n.css("position")&&(i.position="relative"),n.css(i)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,""),"string"==typeof e)return o.style[T(e)]||r.getPropertyValue(e);if(Y(e)){var i={};return k.each(e,function(t,e){i[e]=o.style[T(e)]||r.getPropertyValue(e)}),i}}var a="";if("string"==t(e))n||0===n?a=c(e)+":"+h(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(x in e)e[x]||0===e[x]?a+=c(x)+":"+h(x,e[x])+";":this.each(function(){this.style.removeProperty(c(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(k(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?S.some.call(this,function(t){return this.test(y(t))},l(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){E=[];var n=y(this),r=v(this,t,e,n);r.split(/\s+/g).forEach(function(t){k(this).hasClass(t)||E.push(t)},this),E.length&&y(this,n+(n?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===w)return y(this,"");E=y(this),v(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(l(t)," ")}),y(this,E.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=k(this),o=v(this,t,n,y(this));o.split(/\s+/g).forEach(function(t){(e===w?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===w?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===w?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=R.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(k(t).css("margin-top"))||0,n.left-=parseFloat(k(t).css("margin-left"))||0,r.top+=parseFloat(k(e[0]).css("border-top-width"))||0,r.left+=parseFloat(k(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!R.test(t.nodeName)&&"static"==k(t).css("position");)t=t.offsetParent;return t})}},k.fn.detach=k.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});k.fn[t]=function(o){var i,a=this[0];return o===w?n(a)?a["inner"+e]:r(a)?a.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each(function(e){a=k(this),a.css(t,v(this,o,e,a[t]()))})}}),q.forEach(function(e,n){var r=n%2;k.fn[e]=function(){var e,o,i=k.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:U.fragment(n)}),a=this.length>1;return i.length<1?this:this.each(function(t,e){o=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=k.contains(N.documentElement,o);i.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return k(t).remove();o.insertBefore(t,e),s&&$(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},k.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return k(t)[e](this),this}}),U.Z.prototype=k.fn,U.uniq=_,U.deserializeValue=b,k.zepto=U,k}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,i,a){if(n=r(n),n.ns)var s=o(n.ns);return(v[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||s.test(t.ns))&&(!i||e(t.fn)===e(i))&&(!a||t.sel==a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function i(t,e){return t.del&&!y&&t.e in b||!!e}function a(t){return $[t]||y&&b[t]||t}function s(n,o,s,u,l,f,d){var p=e(n),m=v[p]||(v[p]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var o=r(e);o.fn=s,o.sel=l,o.e in $&&(s=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=f;var p=f||s;o.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=u;var e=p.apply(n,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(a(o.e),o.proxy,i(o,d))})}function u(t,r,o,s,u){var c=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,o,s).forEach(function(e){delete v[c][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,i(e,u))})})}function c(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(E,function(t,r){var o=n[t];e[t]=function(){return this[r]=w,o&&o.apply(n,arguments)},e[r]=x}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function l(t){var e,n={originalEvent:t};for(e in t)k.test(e)||t[e]===h||(n[e]=t[e]);return c(n,t)}var h,f=1,d=Array.prototype.slice,p=t.isFunction,m=function(t){return"string"==typeof t},v={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},$={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:s,remove:u},t.proxy=function(n,r){var o=2 in arguments&&d.call(arguments,2);if(p(n)){var i=function(){return n.apply(r,o?o.concat(d.call(arguments)):arguments)};return i._zid=e(n),i}if(m(r))return o?(o.unshift(n[r],n),t.proxy.apply(null,o)):t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var w=function(){return!0},x=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,o,i){var a,c,f=this;return e&&!m(e)?(t.each(e,function(t,e){f.on(t,n,r,e,i)}),f):(m(n)||p(o)||o===!1||(o=r,r=n,n=h),(p(r)||r===!1)&&(o=r,r=h),o===!1&&(o=x),f.each(function(h,f){i&&(a=function(t){return u(f,t.type,o),o.apply(this,arguments)}),n&&(c=function(e){var r,i=t(e.target).closest(n,f).get(0);return i&&i!==f?(r=t.extend(l(e),{currentTarget:i,liveFired:f}),(a||o).apply(i,[r].concat(d.call(arguments,1)))):void 0}),s(f,e,o,r,n,c||a)}))},t.fn.off=function(e,n,r){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,n,e)}),o):(m(n)||p(r)||r===!1||(r=n,n=h),r===!1&&(r=x),o.each(function(){u(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var o,i;return this.each(function(a,s){o=l(m(e)?t.Event(e):e),o._args=r,o.target=s,t.each(n(s,e.type||e),function(t,e){return i=e.proxy(o),o.isImmediatePropagationStopped()?!1:void 0})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(g[t]||"Events"),r=!0;if(e)for(var o in e)"bubbles"==o?r=!!e[o]:n[o]=e[o];return n.initEvent(t,r,!0),c(n)}}(Zepto),function(t){function e(e,n,r){var o=t.Event(n);return t(e).trigger(o,r),!o.isDefaultPrevented()}function n(t,n,r,o){return t.global?e(n||y,r,o):void 0}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function i(t,e){var r=e.context;return e.beforeSend.call(r,t,e)===!1||n(e,r,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,r,"ajaxSend",[t,e])}function a(t,e,r,o){var i=r.context,a="success";r.success.call(i,t,a,e),o&&o.resolveWith(i,[t,a,e]),n(r,i,"ajaxSuccess",[e,r,t]),u(a,e,r)}function s(t,e,r,o,i){var a=o.context;o.error.call(a,r,e,t),i&&i.rejectWith(a,[r,e,t]),n(o,a,"ajaxError",[r,o,t||e]),u(e,r,o)}function u(t,e,r){var i=r.context;r.complete.call(i,e,t),n(r,i,"ajaxComplete",[e,r]),o(r)}function c(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==k?"html":t==x?"json":$.test(t)?"script":w.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function d(e,n,r,o){return t.isFunction(n)&&(o=r,r=n,n=void 0),t.isFunction(r)||(o=r,r=void 0),{url:e,data:n,success:r,dataType:o}}function p(e,n,r,o){var i,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){i=t.type(u),o&&(n=r?o:o+"["+(s||"object"==i||"array"==i?n:"")+"]"),!o&&a?e.add(u.name,u.value):"array"==i||!r&&"object"==i?p(e,u,r,n):e.add(n,u)})}var m,v,g=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,x="application/json",k="text/html",E=/^\s*$/,T=y.createElement("a");T.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var r,o,u=e.jsonpCallback,c=(t.isFunction(u)?u():u)||"jsonp"+ ++g,l=y.createElement("script"),h=window[c],f=function(e){t(l).triggerHandler("error",e||"abort")},d={abort:f};return n&&n.promise(d),t(l).on("load error",function(i,u){clearTimeout(o),t(l).off().remove(),"error"!=i.type&&r?a(r[0],d,e,n):s(null,u||"error",d,e,n),window[c]=h,r&&t.isFunction(h)&&h(r[0]),h=r=void 0}),i(d,e)===!1?(f("abort"),d):(window[c]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(l),e.timeout>0&&(o=setTimeout(function(){f("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,o=t.extend({},e||{}),u=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===o[m]&&(o[m]=t.ajaxSettings[m]);r(o),o.crossDomain||(n=y.createElement("a"),n.href=o.url,n.href=n.href,o.crossDomain=T.protocol+"//"+T.host!=n.protocol+"//"+n.host),o.url||(o.url=window.location.toString()),f(o);var d=o.dataType,p=/\?.+=\?/.test(o.url);if(p&&(d="jsonp"),o.cache!==!1&&(e&&e.cache===!0||"script"!=d&&"jsonp"!=d)||(o.url=h(o.url,"_="+Date.now())),"jsonp"==d)return p||(o.url=h(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),t.ajaxJSONP(o,u);var g,b=o.accepts[d],$={},w=function(t,e){$[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,k=o.xhr(),_=k.setRequestHeader;if(u&&u.promise(k),o.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",b||"*/*"),(b=o.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(b)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&w("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(v in o.headers)w(v,o.headers[v]);if(k.setRequestHeader=w,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=c,clearTimeout(g);var e,n=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==x){d=d||l(o.mimeType||k.getResponseHeader("content-type")),e=k.responseText;try{"script"==d?(1,eval)(e):"xml"==d?e=k.responseXML:"json"==d&&(e=E.test(e)?null:t.parseJSON(e))}catch(r){n=r}n?s(n,"parsererror",k,o,u):a(e,k,o,u)}else s(k.statusText||null,k.status?"error":"abort",k,o,u)}},i(k,o)===!1)return k.abort(),s(null,"abort",k,o,u),k;if(o.xhrFields)for(v in o.xhrFields)k[v]=o.xhrFields[v];var S="async"in o?o.async:!0;k.open(o.type,o.url,S,o.username,o.password);for(v in $)_.apply(k,$[v]);return o.timeout>0&&(g=setTimeout(function(){k.onreadystatechange=c,k.abort(),s(null,"timeout",k,o,u)},o.timeout)),k.send(o.data?o.data:null),k},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var o,i=this,a=e.split(/\s/),s=d(e,n,r),u=s.success;return a.length>1&&(s.url=a[0],o=a[1]),s.success=function(e){i.html(o?t("<div>").html(e.replace(b,"")).find(o):e),u&&u.apply(i,arguments)},t.ajax(s),this};var _=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(_(e)+"="+_(n))},p(r,e,n),r.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,r=[],o=function(t){return t.forEach?t.forEach(o):void r.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(r,i){n=i.type,e=i.name,e&&"fieldset"!=i.nodeName.toLowerCase()&&!i.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||i.checked)&&o(t(i).val())}),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),function(){("undefined"==typeof Zepto||null===Zepto)&&$.ajaxSetup({beforeSend:function(t,e){var n,r;if(e.global)return n=e.context||document,r=$.Event("ajaxBeforeSend"),$(n).trigger(r,[t,e]),r.isDefaultPrevented()?!1:r.result}})}.call(this),function(){var t,e,n,r,o;"undefined"!=typeof Zepto&&null!==Zepto?(t=function(t){var e,n,r,o;n=document.createEvent("Events");for(r in t)o=t[r],n[r]=o;return n.initEvent(t.type+":prepare",!0,!0),e=function(e,r){return function(){return e.apply(t),r.apply(n)}},n.preventDefault=e(t.preventDefault,n.preventDefault),n.stopPropagation=e(t.stopPropagation,n.stopPropagation),n.stopImmediatePropagation=e(t.stopImmediatePropagation,n.stopImmediatePropagation),t.target.dispatchEvent(n),n.result},window.addEventListener("click",t,!0),window.addEventListener("submit",t,!0)):(e=null,n=function(t){var n,r;r=t.type+":"+t.timeStamp,r!==e&&(n=t.type,t.type=n+":prepare",$.event.trigger(t,[],t.target,!1),t.type=n,e=r)},r=function(t){return function(){$(this).on(t+".prepare",function(){})}},o=function(t){return function(){$(this).off(t+".prepare",function(){})}},$.event.special.click={preDispatch:n},$.event.special.submit={preDispatch:n},$.event.special["click:prepare"]={setup:r("click"),teardown:o("click")},$.event.special["submit:prepare"]={setup:r("submit"),teardown:o("submit")})}.call(this),function(){$(document).on("ajaxBeforeSend",function(t,e,n){return n.dataType?void 0:e.setRequestHeader("Accept","*/*;q=0.5, "+n.accepts.script)})}.call(this),function(){$(document).on("click:prepare","a[data-confirm], input[type=submit][data-confirm], button[data-confirm]",function(t){var e;(e=$(this).attr("data-confirm"))&&(confirm(e)||(t.stopImmediatePropagation(),t.preventDefault()))})}.call(this),function(){var t,e;$(document).on("ajaxBeforeSend",function(t,e,n){var r;if(!n.crossDomain&&"GET"!==n.type)return(r=$('meta[name="csrf-token"]').attr("content"))?e.setRequestHeader("X-CSRF-Token",r):void 0}),$(document).on("submit:prepare","form",function(){var e,n,r,o;e=$(this),e.is("form[data-remote]")||this.method&&"GET"!==this.method.toUpperCase()&&t(e.attr("action"))&&(r=$('meta[name="csrf-param"]').attr("content"),o=$('meta[name="csrf-token"]').attr("content"),null!=r&&null!=o&&(e.find("input[name="+r+"]")[0]||(n=document.createElement("input"),n.setAttribute("type","hidden"),n.setAttribute("name",r),n.setAttribute("value",o),e.prepend(n))))}),e=document.createElement("a"),e.href=location.href,t=function(t){var n;return n=document.createElement("a"),n.href=t,n.href=n.href,n.protocol&&n.host&&e.protocol+"//"+e.host==n.protocol+"//"+n.host}}.call(this),function(){$(document).on("submit:prepare","form",function(){var t,e,n,r,o,i,a,s,u;for(a=$(this).find("input[type=submit][data-disable-with]"),e=0,o=a.length;o>e;e++)n=a[e],n=$(n),n.attr("data-enable-with",n.val()||"Submit"),(u=n.attr("data-disable-with"))&&n.val(u),n[0].disabled=!0;for(s=$(this).find("button[type=submit][data-disable-with]"),r=0,i=s.length;i>r;r++)t=s[r],t=$(t),t.attr("data-enable-with",t.html()||""),(u=t.attr("data-disable-with"))&&t.html(u),t[0].disabled=!0}),$(document).on("ajaxComplete","form",function(){var t,e,n,r,o,i,a,s;for(a=$(this).find("input[type=submit][data-enable-with]"),e=0,o=a.length;o>e;e++)n=a[e],$(n).val($(n).attr("data-enable-with")),n.disabled=!1;for(s=$(this).find("button[type=submit][data-enable-with]"),r=0,i=s.length;i>r;r++)t=s[r],$(t).html($(t).attr("data-enable-with")),t.disabled=!1})}.call(this),function(){$(document).on("click","a[data-method]",function(t){var e,n,r,o;return e=$(this),e.is("a[data-remote]")||(o=e.attr("data-method").toLowerCase(),"get"===o)?void 0:(n=document.createElement("form"),n.method="POST",n.action=e.attr("href"),n.style.display="none","post"!==o&&(r=document.createElement("input"),r.setAttribute("type","hidden"),r.setAttribute("name","_method"),r.setAttribute("value",o),n.appendChild(r)),document.body.appendChild(n),$(n).submit(),t.preventDefault(),!1)})}.call(this),function(){$(document).on("click","a[data-remote]",function(t){var e,n,r,o,i;return n=$(this),r={},r.context=this,(o=n.attr("data-method"))&&(r.type=o),(i=this.href)&&(r.url=i),(e=n.attr("data-type"))&&(r.dataType=e),$.ajax(r),t.preventDefault(),!1}),$(document).on("submit","form[data-remote]",function(t){var e,n,r,o,i,a;return r=$(this),o={},o.context=this,(i=r.attr("method"))&&(o.type=i),(a=this.action)&&(o.url=a),(e=r.serializeArray())&&(o.data=e),(n=r.attr("data-type"))&&(o.dataType=n),$.ajax(o),t.preventDefault(),!1}),$(document).on("ajaxSend","[data-remote]",function(t,e){$(this).data("remote-xhr",e);
}),$(document).on("ajaxComplete","[data-remote]",function(t,e){var n;"function"==typeof(n=$(this)).removeData&&n.removeData("remote-xhr")})}.call(this),function(){var t;t="form[data-remote] input[type=submit],\nform[data-remote] button[type=submit],\nform[data-remote] button:not([type]),\nform[data-remote-submit] input[type=submit],\nform[data-remote-submit] button[type=submit],\nform[data-remote-submit] button:not([type])",$(document).on("click",t,function(){var t,e,n,r,o,i;o=$(this),e=o.closest("form"),n=e.find(".js-submit-button-value"),(r=o.attr("name"))?(t=o.is("input[type=submit]")?"Submit":"",i=o.val()||t,n[0]?(n.attr("name",r),n.attr("value",i)):(n=document.createElement("input"),n.setAttribute("type","hidden"),n.setAttribute("name",r),n.setAttribute("value",i),n.setAttribute("class","js-submit-button-value"),e.prepend(n))):n.remove()})}.call(this),function(){var t,e,n,r,o,i,a,s,u,c,l,h,f,d,p,m,v,g,y,b,$,w,x,k,E,T,_,S,C,j,N,O,A,P,L,H,D,R,M,I,q,F,z,Z,V,B,X,J,U,G,W,Y,K,Q,tt,et,nt=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},rt=function(t,e){function n(){this.constructor=t}for(var r in e)ot.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},ot={}.hasOwnProperty,it=[].slice,at=function(t,e){return function(){return t.apply(e,arguments)}};P={},f=10,Y=!1,M=null,y=null,O=null,F=null,et=null,r={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},k=function(t){var e;return t=new n(t),X(),h(),null!=M&&M.start(),Y&&(e=K(t.absolute))?(E(e),T(t,null,!1)):T(t,G)},K=function(t){var e;return e=P[t],e&&!e.transitionCacheDisabled?e:void 0},$=function(t){return null==t&&(t=!0),Y=t},b=function(t){return null==t&&(t=!0),c?t?null!=M?M:M=new i("html"):(null!=M&&M.uninstall(),M=null):void 0},T=function(t,e,n){return null==n&&(n=!0),Q(r.FETCH,{url:t.absolute}),null!=et&&et.abort(),et=new XMLHttpRequest,et.open("GET",t.withoutHashForIE10compatibility(),!0),et.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),et.setRequestHeader("X-XHR-Referer",F),et.onload=function(){var n;return Q(r.RECEIVE,{url:t.absolute}),(n=R())?(z(t),Z(),d.apply(null,x(n)),A(),"function"==typeof e&&e(),Q(r.LOAD)):document.location.href=g()||t.absolute},M&&n&&(et.onprogress=function(t){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:M.value+(100-M.value)/10,M.advanceTo(e)}}(this)),et.onloadend=function(){return et=null},et.onerror=function(){return document.location.href=t.absolute},et.send()},E=function(t){return null!=et&&et.abort(),d(t.title,t.body),I(t),Q(r.RESTORE)},h=function(){var t;return t=new n(y.url),P[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(f)},H=function(t){return null==t&&(t=f),/^[\d]+$/.test(t)?f=parseInt(t):void 0},m=function(t){var e,n,o,i,a,s;for(a=Object.keys(P),e=a.map(function(t){return P[t].cachedAt}).sort(function(t,e){return e-t}),s=[],n=0,i=a.length;i>n;n++)o=a[n],P[o].cachedAt<=e[t]&&(Q(r.EXPIRE,P[o]),s.push(delete P[o]));return s},d=function(e,n,o,i){return Q(r.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(n,document.body),null!=o&&t.update(o),W(),i&&w(),y=window.history.state,null!=M&&M.done(),Q(r.CHANGE),Q(r.UPDATE)},w=function(){var t,e,n,r,o,i,a,s,u,c,l,h;for(h=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,o=h.length;o>n;n++)if(l=h[n],""===(u=l.type)||"text/javascript"===u){for(e=document.createElement("script"),c=l.attributes,r=0,i=c.length;i>r;r++)t=c[r],e.setAttribute(t.name,t.value);l.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(l.innerHTML)),s=l.parentNode,a=l.nextSibling,s.removeChild(l),s.insertBefore(e,a)}},J=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},W=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},z=function(t){return(t=new n(t)).absolute!==F?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},Z=function(){var t,e;return(t=et.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},g=function(){var t;return null!=(t=et.getResponseHeader("Location"))&&new n(t).crossOrigin()?t:void 0},X=function(){return F=document.location.href},B=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},V=function(){return y=window.history.state},A=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new n).hasNoHash()?(window.history.replaceState(y,"",t.withoutHash()),document.location.hash=t.hash):void 0},I=function(t){return window.scrollTo(t.positionX,t.positionY)},G=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},p=function(t){var e,n,r;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(n in t)r=t[n],e[n]=p(r);return e},D=function(t){var e,n;return n=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},Q=function(t,e){var n;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},L=function(t){return!Q(r.BEFORE_CHANGE,{url:t})},R=function(){var t,e,n,r,o,i;return e=function(){var t;return 400<=(t=et.status)&&600>t},i=function(){var t;return null!=(t=et.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(t){var e,n,r,o,i;for(o=t.querySelector("head").childNodes,i=[],e=0,n=o.length;n>e;e++)r=o[e],null!=("function"==typeof r.getAttribute?r.getAttribute("data-turbolinks-track"):void 0)&&i.push(r.getAttribute("src")||r.getAttribute("href"));return i},t=function(t){var e;return O||(O=r(document)),e=r(t),e.length!==O.length||o(e,O).length!==O.length},o=function(t,e){var n,r,o,i,a;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),i=[],n=0,r=t.length;r>n;n++)a=t[n],nt.call(e,a)>=0&&i.push(a);return i},!e()&&i()&&(n=v(et.responseText),n&&!t(n))?n:void 0},x=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,J(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},v=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),o=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return rt(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,r,o;for(n=1<=arguments.length?it.call(arguments,0):[],r=0,o=n.length;o>r;r++)t=n[r],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(L(this.link.absolute)||tt(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new o(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),i=function(){function t(t){this.elementSelector=t,this._trickle=at(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var n,r;return n=this.speed,this.speed=t,r=e(),this.speed=n,r},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),l=function(t){return setTimeout(t,500)},C=function(){return document.addEventListener("DOMContentLoaded",function(){return Q(r.CHANGE),Q(r.UPDATE)},!0)},N=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e,n){return jQuery.trim(e.responseText)?Q(r.UPDATE):void 0}):void 0},j=function(t){var e,r;return(null!=(r=t.state)?r.turbolinks:void 0)?(e=P[new n(t.state.url).absolute])?(h(),E(e)):tt(t.target.location.href):void 0},S=function(){return B(),V(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(t){return B(),V()},!1),l(function(){return window.addEventListener("popstate",j,!1)})},_=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),u=window.history&&window.history.pushState&&window.history.replaceState&&_,a=!navigator.userAgent.match(/CriOS\//),U="GET"===(q=D("request_method"))||""===q,c=u&&a&&U,s=document.addEventListener&&document.createEvent,s&&(C(),N()),c?(tt=k,S()):tt=function(t){return document.location.href=t},this.Turbolinks={visit:tt,pagesCached:H,enableTransitionCache:$,enableProgressBar:b,allowLinkExtensions:o.allowExtensions,supported:c,EVENTS:p(r)}}.call(this),$(document).on("ready",function(){$(document).on("click","#cookies-wrapper label",function(){document.cookie="cookies_check=true;path=/;expires=Tue, 1-Jan-2030 00:00:00 GMT"}),$(document).on("click","#cookies-wrapper a",function(){document.cookie="cookies_check=true;path=/;expires=Tue, 1-Jan-2030 00:00:00 GMT"})}),$(document).on("page:restore page:change",function(){var t=function(){var t=$(this).closest("div");$(this).remove(),$(t).addClass("unknown-thumbnail")};$(".course-image img").error(t),$(".course-image-full-wrapper img").error(t)}),$(document).on("ready",function(){$(document).on("click","#update-tag-submit",function(){$("#update-tag-form").submit()}),$(document).on("change","select#tag_id",function(){var t="",e=$(this).val();t=""==e?$("option",$(this).parent()).text():$('[value="'+e+'"]').text(),$(this).parent().parent().find("select + div").text(t)})}),$(document).on("page:change page:restore",function(){$("select#tag_id").each(function(){var t="",e=$(this).val();t=""==e?$("option",$(this).parent()).text():$('[value="'+e+'"]').text(),$(this).parent().parent().find("select + div").text(t)})}),function(t,e,n,r,o){t[r]=t[r]||[],t[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(n)[0],a=e.createElement(n),s="dataLayer"!=r?"&l="+r:"";a.async=!0,a.src="//www.googletagmanager.com/gtm.js?id="+o+s,i.parentNode.insertBefore(a,i)}(window,document,"script","dataLayer","GTM-TM4NLN"),$(document).on("page:change",function(){dataLayer.push({event:"virtualPageView",virtualURL:window.location.pathname})}),$(document).on("ready",function(){$(document).on("change","#language_selector",function(){var t=$(this).val();document.cookie="locale="+t+";path=/;expires=Tue, 1-Jan-2030 00:00:00 GMT";var e=location.href.replace(/#.+/,"");e=e.replace(/\?locale=.*?&/,"?"),e=e.replace(/\?locale=.*$/,""),e=e.replace(/&locale=.*?&/,"&"),e=e.replace(/&locale=.*$/,""),Turbolinks.visit(e)}),$(document).on("change","#public_site_selector",function(){var t=$(this).val();""!=t&&(window.location.href=t)}),$(document).on("change","#play_guide_selector",function(){var t=$(this).val();""!=t&&(window.location.href=t)})}),$(function(){}),$(document).on("page:fetch",function(){$("#loading-overlay").show()}),$(document).on("page:change",function(){$("#loading-overlay").hide()}),$(document).on("submit",function(){$("#loading-overlay").show()}),$(document).on("ready",function(){$(document).on("click","#login-announcement-modal-link",function(){$("#login-announcement-modal-check").prop("checked",!1)})}),$(window).on("unload",function(){}),$(document).on("ready",function(){$(document).on("click","a.locked",function(t){t.preventDefault();var e=$(this);$.ajax({url:$(this)[0].href,type:"POST",dataType:"json",success:function(){e.attr("href",e.attr("href").replace("/unlock","/lock")),e.removeClass("locked").addClass("unlocked"),e.children().remove(),e.append('<div class="icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path d="M27.4 0c-4.7 0-8.6 3.8-8.6 8.6V12H3.4C1.5 12 0 13.5 0 15.4v17.1c0 2 1.5 3.5 3.4 3.5H24c1.9 0 3.4-1.5 3.4-3.4V15.4c0-1.9-1.5-3.4-3.4-3.4h-1.9V8.6c0-2.9 2.4-5.3 5.3-5.3s5.3 2.4 5.3 5.3H36C36 3.8 32.2 0 27.4 0zM13.7 27.4c-1.9 0-3.4-1.5-3.4-3.4s1.5-3.4 3.4-3.4 3.4 1.5 3.4 3.4-1.5 3.4-3.4 3.4z"/></svg></div>');var t=e.closest("div").find("span.trash.link").html(),n=e.closest("div").find("span.trash.link").attr("for");e.closest("div").find("span.trash.link").replaceWith('<label class="trash link" for='+n+">"+t+"</label>")},error:function(t){var e,n=$.parseJSON(t.responseText);e=n.prefix?"/"+n.prefix+"/server_error":"/server_error",Turbolinks.visit(e)}})}),$(document).on("click","a.unlocked",function(t){t.preventDefault();var e=$(this);$.ajax({url:$(this)[0].href,type:"POST",dataType:"json",success:function(){e.attr("href",e.attr("href").replace("/lock","/unlock")),e.removeClass("unlocked").addClass("locked"),e.children().remove(),e.append('<div class="icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 36"><path d="M24.5 12h-1.8V8.6C22.7 3.8 18.8 0 14 0S5.2 3.8 5.2 8.6V12H3.5C1.6 12 0 13.5 0 15.4v17.1c0 2 1.6 3.5 3.5 3.5h21c1.9 0 3.5-1.5 3.5-3.4V15.4c0-1.9-1.6-3.4-3.5-3.4zM14 27.4c-1.9 0-3.5-1.5-3.5-3.4s1.6-3.4 3.5-3.4 3.5 1.5 3.5 3.4-1.6 3.4-3.5 3.4zM19.4 12H8.6V8.6c0-2.9 2.4-5.3 5.4-5.3s5.4 2.4 5.4 5.3V12z"/></svg></div>');var t=e.closest("div").find("label.trash.link").html(),n=e.closest("div").find("label.trash.link").attr("for");e.closest("div").find("label.trash.link").replaceWith('<span class="trash link" for='+n+">"+t+"</span>")},error:function(t){var e,n=$.parseJSON(t.responseText);e=n.prefix?"/"+n.prefix+"/server_error":"/server_error",Turbolinks.visit(e)}})})}),function(){}.call(this),function(){}.call(this),$(document).on("page:change page:restore",function(){$("#icon-header-humberger").click(function(){$(this).toggle(),$("#menu-inner").toggle()}),$("#humberger-menu-close").click(function(){$("#icon-header-humberger").toggle(),$("#menu-inner").toggle()});var t=!1;$(window).resize(function(){var e=$(window).width();t&&clearTimeout(t),t=setTimeout(function(){e>=980&&"none"==$("#menu-inner").css("display")&&$("#menu-inner").show()},100)})}),$(document).on("ready",function(){$(document).on("change","select[name='pickup_difficulty']",function(){Turbolinks.visit(location.pathname+"?difficulty="+$(this).val())})}),$(document).on("page:restore",function(){var t=(window.location.search.match(/difficulty=(.*)/)||[])[1],e=void 0===t?"":t;$("[name=pickup_difficulty]").val(e)}),$(document).on("ready",function(){$(document).on("click","a.playlist",function(t){t.preventDefault();var e=$(this);$.ajax({url:$(this)[0].href,type:$(this).hasClass("on")?"DELETE":"POST",dataType:"json",success:function(){e.addClass("disabled"),e.hasClass("off")?($(e.closest("div").find(".playlist.on")).removeClass("disabled"),$("a.button.playlist.off:not(.disabled)").length<1&&$("a.button.playlist-all").attr("disabled","disabled")):($(e.closest("div").find(".playlist.off")).removeClass("disabled"),$("a.button.playlist-all").removeAttr("disabled"))},error:function(t){var n,r=$.parseJSON(t.responseText);if(void 0!==r.message){var o=e.closest("div").find(".balloon");o.empty(),o.append($("<div>").addClass("error").text(r.message)),o.addClass("on"),setTimeout(function(){o.removeClass("on")},3e3)}else n=r.prefix?"/"+r.prefix+"/server_error":"/server_error",Turbolinks.visit(n)}})}),$(document).on("click","a.button.playlist-all",function(t){t.preventDefault();var e=$.map($("a.button.playlist.off"),function(t,e){var n=t.href.split("/");return n[n.length-2]}),n=$(this);$.ajax({url:$(this)[0].href,type:"POST",data:{course_codes:e},dataType:"json",success:function(t){$("a.playlist.on").removeClass("disabled"),$("a.playlist.off").addClass("disabled"),n.attr("disabled","disabled");var e=$("#balloon");e.empty(),e.append($("<div>").addClass("success").text(t.message)),e.addClass("on"),setTimeout(function(){e.removeClass("on")},3e3)},error:function(t){var e,n=$.parseJSON(t.responseText);if(void 0!==n.message){var r=$("#balloon");r.empty(),r.append($("<div>").addClass("error").text(n.message)),r.addClass("on"),setTimeout(function(){r.removeClass("on")},3e3)}else e=n.prefix?"/"+n.prefix+"/server_error":"/server_error",Turbolinks.visit(e)}})})}),function(){}.call(this),$(document).on("ready",function(){var t=$("#loading-image").css("background-image");if(/url\("(.*)"\)/.test(t)){var e=new Image;e.src=RegExp.$1}}),$(document).on("ready",function(){$(document).on("change","select[data-role=ranking-selector]",function(){var t=$('[value="'+$(this).val()+'"]').text();$("#ranking-selector-div").text(t),Turbolinks.visit(location.pathname+"?type="+$(this).val())})}),$(document).on("page:change",function(){var t=(window.location.search.match(/type=(.*)/)||[])[1],e="";if(void 0!==t)t=t.replace(/&locale=.*/,""),e=$('[value="'+t+'"]').text();else{var n=$("[name=sorting_item]").val();void 0!==n&&(e=$("[value="+n+"]").text(),history.replaceState({turbolinks:!0,url:document.location.href},"","?type="+n))}$("#ranking-selector-div").text(e)}),$(document).on("page:restore",function(){var t=(window.location.search.match(/type=(.*)/)||[])[1];$("[name=sorting_item]").val(t)}),$(function(){}),$(document).on("ready",function(){$(document).on("click","#search_submit",function(){$("#search_form").submit()}),$(document).on("change","select.search",function(){var t="",e=$(this).val();t=""==e?$("option",$(this).parent()).text():$('[value="'+e+'"]').text(),$(this).parent().parent().find("select + div").text(t)})}),$(document).on("page:change page:restore",function(){$("select.search").each(function(){var t=new RegExp($(this).attr("name").replace(/\[/,"%5B").replace(/\]/,"%5D")+"=([^&]*)"),e=(window.location.search.match(t)||[])[1],n="",r=$(this).val();n=void 0!==e&&""!=e?$('[value="'+e+'"]',$(this)).text():""==r?$("option",$(this).parent()).text():$('[value="'+r+'"]').text(),$(this).parent().parent().find("select + div").text(n)})}),$(document).on("ready",function(){$(document).on("change","#cannot-update-tag",function(t){t.preventDefault();var e,n=$(this);e="null"==n[0].dataset.prefix?"/settings":"/"+n[0].dataset.prefix+"/settings",$.ajax({url:e,type:"POST",dataType:"json",data:{checked:n[0].checked},error:function(t){var e,n=$.parseJSON(t.responseText);e=n.prefix?"/"+n.prefix+"/server_error":"/server_error",Turbolinks.visit(e)}})})}),$(document).on("ready page:load",function(t){$("#sns-share-check-twitter").prop("checked",!1),$("#sns-share-check-facebook").prop("checked",!1),$("#sns-share-check-tumblr").prop("checked",!1)}),$(document).on("ready",function(){function t(t){switch(t){case"facebook-share-button":provider="facebook";break;case"twitter-share-button":provider="twitter";break;case"tumblr-share-button":provider="tumblr";break;default:return}return provider}$(document).on("click","a.sns-share",function(t){t.preventDefault();var e=$(t.currentTarget).attr("id"),n=$("."+e+"-share-image");if(n.find("img").length<1){$("#loading-overlay").show();var r=$(".sns-share-wrapper"),o=r.attr("data-page-id"),i=r.attr("data-page-type"),a="";a="/share/"+e+"/prepare",$.ajax({url:a,type:"POST",dataType:"json",data:{page_type:i,page_id:o},success:function(t){var r=t.image;if(n=$("."+t.provider+"-share-image"),n.append($("<img>").attr("src",r)),"tumblr"==e){var o=t.blogs;$("#tumblr-blogs-selector").html(""),$.each(o,function(){var t=$("<option>").val(this).text(this);$("#tumblr-blogs-selector").append(t)})}var i=$("#sns-share-check-"+t.provider);i.prop("checked",!0),i.trigger("change"),$("#loading-overlay").hide()},error:function(t){$("#loading-overlay").hide();var e,n=$.parseJSON(t.responseText);e=n.prefix?"/"+n.prefix+"/server_error":"/server_error",Turbolinks.visit(e)}})}else{var s=$("#sns-share-check-"+e);s.prop("checked",!0),s.trigger("change")}}),$(document).on("click",".sns-post-button",function(e){var n=$(e.currentTarget),r=n.attr("id"),o=t(r),i=$("."+o+"-share-text").val(),a=$(".sns-share-wrapper"),s=$("."+o+"-share-image img").attr("src"),u=a.attr("data-page-id"),c=a.attr("data-page-type"),l=$("#tumblr-blogs-selector").val(),h=$(this),f=$("#sns-share-check-off");f.prop("checked",!0),f.trigger("change"),scrollTo(0,0);var d={text:i,image_url:s,page_type:c,page_id:u};"tumblr"==o&&(d.tumblr_blog=l),$.ajax({url:"/share/"+o+"/post",type:"POST",dataType:"json",data:d,success:function(t){$target_area=h.closest("div").find("textarea"),$target_area.val($target_area[0].defaultValue),$target_area.trigger("change");var e=$(".balloon.for-"+o);e.empty(),e.append($("<div>").addClass("success").text(t.message)),e.addClass("on"),setTimeout(function(){e.removeClass("on")},3e3)},error:function(t){var e=$.parseJSON(t.responseText),n=$(".balloon.for-"+o);n.empty(),n.append($("<div>").addClass("error").text(e.message)),n.addClass("on"),setTimeout(function(){n.removeClass("on")},3e3)}})})}),$(document).on("ready",function(){$(document).on("change","select[data-role=type-selector]",function(){var t=$('[value="'+$(this).val()+'"]').text();$("#type-selector-div").text(t),location.href=location.pathname+"?type="+$(this).val()+"#type-selector"})}),$(document).on("page:change",function(){var t=(window.location.search.match(/type=(.*)/)||[])[1],e="";if(void 0!==t)t=t.replace(/&locale=.*/,""),e=$('[value="'+t+'"]').text(),$("[name=type_item]").val(t);else{var n=$("[name=type_item]").val();void 0!==n&&(e=$("[value="+n+"]").text(),history.replaceState({turbolinks:!0,url:document.location.href},"","?type="+n))}$("#type-selector-div").text(e)}),$(function(){}),$(document).on("ready",function(){$(document).on("change","input[type='radio'], input[type='checkbox']",function(t){$(t.currentTarget).parent().toggleClass("toggle-checked")})});var timeoutId=-1;$(document).on("ready page:load",function(){var t=function(){$("#back-button").addClass("show")};timeoutId>0&&clearTimeout(timeoutId),timeoutId=setTimeout(t,1500),$(document).on("scroll",function(){timeoutId>0&&(clearTimeout(timeoutId),$("#back-button").removeClass("show"),timeoutId=setTimeout(t,1500))})}),$(document).on("page:restore",function(){var t=$("body").css("background-color");$("body").css("background-color",t)});